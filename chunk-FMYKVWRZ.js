import{a as P,b as M}from"./chunk-YX5PSU2N.js";import{a as O}from"./chunk-4JPLJWCV.js";import{Ba as p,Ga as s,Nb as h,Ra as o,Ua as e,Va as a,Wa as r,Zb as C,v as g,xa as t}from"./chunk-CL3FEXF7.js";var _=class d{constructor(n){this.dashboardControllerService=n}liveState="-";numSection="-";party="-";votes="-";updateSubscription;ngOnInit(){this.loadAllData(),this.setupAutoRefresh()}loadAllData(){this.dashboardControllerService.globalStats().subscribe({next:n=>{this.liveState=n.countingInProgress?"In Diretta":"Terminato",this.numSection=n.sectionClosed?(17-n.sectionClosed).toString()+" di 17":"17 di 17",this.party=n.leadPartyList?n.leadPartyList:"-",this.votes=n.totalVotes?n.totalVotes.toString():"-"},error:n=>console.error("Errore nel caricamento dei dati:",n)})}setupAutoRefresh(){this.updateSubscription=g(121*1e3).subscribe(()=>{this.loadAllData()})}ngOnDestroy(){this.updateSubscription&&this.updateSubscription.unsubscribe()}static \u0275fac=function(c){return new(c||d)(p(C))};static \u0275cmp=s({type:d,selectors:[["app-dashboard"]],decls:16,vars:16,consts:[[1,"dashboard"],[1,"card-container"],[3,"title","value","icon","prefix"],[1,"chart-container"],[1,"chart-row"],[1,"chart-col"],["dataSource","mayors","title","Distribuzione Voti Sindaco"],["dataSource","councillors"],["dataSource","votes","title","Distribuzione Schede Elettorali"]],template:function(c,i){c&1&&(e(0,"div",0)(1,"div",1),r(2,"app-counter-card",2)(3,"app-counter-card",2)(4,"app-counter-card",2)(5,"app-counter-card",2),a(),e(6,"div",3)(7,"div",4)(8,"div",5),r(9,"app-pie-chart",6),a()(),e(10,"div",4)(11,"div",5),r(12,"app-bar-chart",7),a()(),e(13,"div",4)(14,"div",5),r(15,"app-pie-chart",8),a()()()()),c&2&&(t(2),o("title","Stato Scrutinio")("value",i.liveState)("icon","tower-broadcast")("prefix",""),t(),o("title","Seggi Attivi")("value",i.numSection)("icon","person-booth")("prefix",""),t(),o("title","Votanti")("value",i.votes)("icon","pencil")("prefix",""),t(),o("title","Partito in Vantaggio")("value",i.party)("icon","landmark")("prefix",""))},dependencies:[h,O,P,M],styles:[".dashboard[_ngcontent-%COMP%]{width:100%;max-width:100%;box-sizing:border-box;padding:15px;overflow-x:hidden}.dashboard[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:20px;color:#2c3e50;font-size:24px;line-height:1.2}.dashboard[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-bottom:25px}.dashboard[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:92px}.dashboard[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{width:100%}.dashboard[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px;width:100%}.dashboard[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-col[_ngcontent-%COMP%]{flex:1;background-color:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a;padding:20px;min-height:300px;box-sizing:border-box;display:flex;flex-direction:column;overflow:hidden}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a;padding:20px;display:flex;align-items:center;box-sizing:border-box}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:24px;margin-right:11px;flex-shrink:0}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;min-width:0}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#7f8c8d;font-size:16px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border-radius:4px;border:1px solid #ddd;font-size:16px;color:#2c3e50;background-color:#f8f9fa;cursor:pointer}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#3498db}[_nghost-%COMP%]{display:block;height:100%}[_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a;padding:20px;display:flex;align-items:center;height:100%;box-sizing:border-box}[_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:24px;margin-right:11px;flex-shrink:0}[_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;min-width:0}[_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#7f8c8d;font-size:16px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:5px 0 0;color:#2c3e50;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  .chart-col{display:flex!important;flex-direction:column!important;height:auto!important;width:100%!important;overflow:hidden!important}  .chart-col h3{margin-top:0;margin-bottom:15px;font-size:16px;color:#2c3e50;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  .chart-wrapper{flex:1!important;position:relative!important;width:100%!important;height:calc(100% - 30px)!important;min-height:200px!important}  canvas.chartjs-render-monitor{width:100%!important;height:100%!important;max-width:100%!important;max-height:100%!important}  .chartjs-legend{margin-top:auto!important;padding-top:10px!important}  .chartjs-legend ul{display:flex!important;flex-wrap:wrap!important;justify-content:center!important;gap:8px!important;padding:0!important;margin:0!important}  .chartjs-legend li{display:flex!important;align-items:center!important;font-size:12px!important;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;max-width:120px!important}@media (min-width: 1201px){.dashboard[_ngcontent-%COMP%]{padding:20px}.dashboard[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}.dashboard[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{margin-bottom:35px}.dashboard[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-col[_ngcontent-%COMP%]{padding:25px;min-height:400px}.dashboard[_ngcontent-%COMP%]   .counter-card[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]{padding:22px}.dashboard[_ngcontent-%COMP%]     .chart-wrapper{min-height:320px!important}.dashboard[_ngcontent-%COMP%]     .chart-col h3{font-size:18px;margin-bottom:20px}}@media (min-width: 769px) and (max-width: 1200px){.dashboard[_ngcontent-%COMP%]{padding:15px}.dashboard[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.dashboard[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:15px;margin-bottom:25px}.dashboard[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.dashboard[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-col[_ngcontent-%COMP%]{min-height:350px;width:100%}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:45px;height:45px;font-size:22px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:22px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:15px;padding:7px}.dashboard[_ngcontent-%COMP%]     .chart-wrapper{min-height:280px!important}.dashboard[_ngcontent-%COMP%]     .chartjs-legend li{font-size:11px!important;max-width:110px!important}}@media (max-width: 768px){.dashboard[_ngcontent-%COMP%]{padding:12px}.dashboard[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:22px;margin-bottom:15px}.dashboard[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px;margin-bottom:20px}.dashboard[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]{flex-direction:column;gap:15px;margin-bottom:15px}.dashboard[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-col[_ngcontent-%COMP%]{padding:15px;min-height:280px;width:100%}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]{padding:15px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:42px;height:42px;font-size:20px;margin-right:10px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;margin-bottom:6px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:20px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:14px;padding:6px}.dashboard[_ngcontent-%COMP%]     .chart-wrapper{min-height:220px!important;height:calc(100% - 25px)!important}.dashboard[_ngcontent-%COMP%]     .chart-col h3{font-size:15px;margin-bottom:10px}.dashboard[_ngcontent-%COMP%]     .chartjs-legend{padding-top:5px!important}.dashboard[_ngcontent-%COMP%]     .chartjs-legend li{font-size:10px!important;max-width:90px!important}.dashboard[_ngcontent-%COMP%]     canvas{width:100%!important;height:100%!important}}@media (max-width: 480px){.dashboard[_ngcontent-%COMP%]{padding:10px}.dashboard[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px}.dashboard[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{gap:10px;margin-bottom:15px}.dashboard[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]{gap:12px;margin-bottom:12px}.dashboard[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-col[_ngcontent-%COMP%]{padding:12px;min-height:240px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]{padding:12px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:38px;height:38px;font-size:18px;margin-right:8px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:13px;margin-bottom:5px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:18px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:13px;padding:5px}.dashboard[_ngcontent-%COMP%]     .chart-wrapper{min-height:180px!important;height:calc(100% - 22px)!important}.dashboard[_ngcontent-%COMP%]     .chart-col h3{font-size:14px;margin-bottom:8px}.dashboard[_ngcontent-%COMP%]     .chartjs-legend li{font-size:9px!important;max-width:80px!important;margin-right:4px!important}}@media (max-width: 360px){.dashboard[_ngcontent-%COMP%]{padding:8px}.dashboard[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.dashboard[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{gap:8px;margin-bottom:12px}.dashboard[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:80px}.dashboard[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]{gap:10px;margin-bottom:10px}.dashboard[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-row[_ngcontent-%COMP%]   .chart-col[_ngcontent-%COMP%]{padding:10px;min-height:200px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]{padding:10px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:32px;height:32px;font-size:16px;margin-right:6px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:11px;margin-bottom:3px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:16px}.dashboard[_ngcontent-%COMP%]   .selector-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .dashboard   [_nghost-%COMP%]   .counter-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:11px;padding:4px;height:26px}.dashboard[_ngcontent-%COMP%]     .chart-wrapper{min-height:150px!important;height:calc(100% - 20px)!important}.dashboard[_ngcontent-%COMP%]     .chart-col h3{font-size:13px;margin-bottom:6px}.dashboard[_ngcontent-%COMP%]     .chartjs-legend{padding-top:3px!important}.dashboard[_ngcontent-%COMP%]     .chartjs-legend ul{justify-content:flex-start!important;flex-wrap:wrap!important;gap:4px!important}.dashboard[_ngcontent-%COMP%]     .chartjs-legend li{font-size:8px!important;max-width:60px!important}}  .chart-container canvas{box-sizing:border-box!important}  .chartjs-size-monitor,   .chartjs-size-monitor-expand,   .chartjs-size-monitor-shrink{position:absolute;inset:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}  .chartjs-tooltip{max-width:90%!important;white-space:normal!important}  .chart-container>div{width:100%!important;height:100%!important}"]})};export{_ as DashboardComponent};
