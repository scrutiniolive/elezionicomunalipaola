import{a as h}from"./chunk-HQ5M5R7E.js";import{Aa as g,Fa as l,Gb as P,Hb as f,Ib as C,Ja as s,Qa as i,Ta as o,Tb as O,Ua as a,Va as p,_a as u,db as c,eb as m,ua as M,wa as r}from"./chunk-FTSSXSA7.js";function w(n,e){if(n&1&&p(0,"img",8),n&2){let t=u();i("src",t.imageUrl,M)("alt",t.candidateCardModel.lastName+" "+t.candidateCardModel.firstName)}}function I(n,e){n&1&&(o(0,"div",9),c(1,"Loading..."),a())}var _=class n{constructor(e){this.imageService=e}imageUrl;imagesLoaded=!1;ngOnInit(){this.imageService.isLoaded().subscribe(e=>{this.imagesLoaded=e,e&&this.candidateCardModel.id&&(this.imageUrl=this.imageService.getImage(this.candidateCardModel.id))})}candidateCardModel;static \u0275fac=function(t){return new(t||n)(g(h))};static \u0275cmp=l({type:n,selectors:[["app-person-card-no-counter"]],inputs:{candidateCardModel:"candidateCardModel"},decls:10,vars:4,consts:[[1,"person-card"],[1,"image-container"],[3,"src","alt",4,"ngIf"],["class","loading-placeholder",4,"ngIf"],[1,"content-container"],[1,"info"],[1,"last-name"],[1,"first-name"],[3,"src","alt"],[1,"loading-placeholder"]],template:function(t,d){t&1&&(o(0,"div",0)(1,"div",1),s(2,w,1,2,"img",2)(3,I,2,0,"div",3),a(),o(4,"div",4)(5,"div",5)(6,"h3",6),c(7),a(),o(8,"p",7),c(9),a()()()()),t&2&&(r(2),i("ngIf",d.imagesLoaded),r(),i("ngIf",!d.imagesLoaded),r(4),m(d.candidateCardModel.lastName),r(2),m(d.candidateCardModel.firstName))},dependencies:[C,f],styles:[".person-card[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;box-shadow:0 .125rem .375rem #0000001a;overflow:hidden;display:flex;flex-direction:column;height:100%;transition:transform .2s,box-shadow .2s}.person-card[_ngcontent-%COMP%]:hover{transform:translateY(-.1875rem);box-shadow:0 .25rem .625rem #00000026}.person-card[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100%;height:10rem;overflow:hidden}.person-card[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.person-card[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{padding:.9375rem;display:flex}.person-card[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{flex:0 0 3.75rem;font-size:1.5rem;font-weight:700;color:#3498db;display:flex;justify-content:center;align-items:center;border-right:.0625rem solid #ecf0f1;margin-right:.9375rem;padding-right:.9375rem}.person-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex:1}.person-card[_ngcontent-%COMP%]   .last-name[_ngcontent-%COMP%]{margin:0 0 .3125rem;font-size:1.125rem;font-weight:700;color:#2c3e50}.person-card[_ngcontent-%COMP%]   .first-name[_ngcontent-%COMP%]{font-size:1rem;margin:0 0 .625rem;color:#7f8c8d}.person-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.625rem}.person-card[_ngcontent-%COMP%]   .btn-counter[_ngcontent-%COMP%]{width:2.25rem;height:2.25rem;border-radius:50%;border:none;font-size:1.125rem;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .2s}.person-card[_ngcontent-%COMP%]   .increment[_ngcontent-%COMP%]{background-color:#2ecc71;color:#fff}.person-card[_ngcontent-%COMP%]   .increment[_ngcontent-%COMP%]:hover{background-color:#27ae60}.person-card[_ngcontent-%COMP%]   .decrement[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff}.person-card[_ngcontent-%COMP%]   .decrement[_ngcontent-%COMP%]:hover{background-color:#c0392b}@media (max-width: 768px){.person-card[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{height:8rem}.person-card[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{padding:.75rem}.person-card[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{font-size:1.25rem;flex:0 0 3rem;margin-right:.625rem;padding-right:.625rem}.person-card[_ngcontent-%COMP%]   .last-name[_ngcontent-%COMP%]{font-size:1rem}.person-card[_ngcontent-%COMP%]   .first-name[_ngcontent-%COMP%]{font-size:.875rem}.person-card[_ngcontent-%COMP%]   .btn-counter[_ngcontent-%COMP%]{width:2rem;height:2rem;font-size:1rem}}@media (max-width: 480px){.person-card[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.person-card[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;padding:.5rem}.person-card[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{border-right:none;margin-right:0;padding-right:0;margin-bottom:.5rem;font-size:1rem}.person-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{justify-content:center}.person-card[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{height:6rem}.person-card[_ngcontent-%COMP%]   .last-name[_ngcontent-%COMP%]{font-size:.875rem}.person-card[_ngcontent-%COMP%]   .first-name[_ngcontent-%COMP%]{font-size:.75rem}.person-card[_ngcontent-%COMP%]   .btn-counter[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem;font-size:.875rem}}"]})};function z(n,e){n&1&&(o(0,"div",3)(1,"p"),c(2,"Nessun dato disponibile"),a()())}function S(n,e){if(n&1&&p(0,"app-person-card-no-counter",8),n&2){let t=e.$implicit;i("candidateCardModel",t)}}function N(n,e){if(n&1&&(o(0,"div",4)(1,"h2",5),c(2),a(),o(3,"div",6),s(4,S,1,1,"app-person-card-no-counter",7),a()()),n&2){let t=e.$implicit;r(2),m(t.name),r(2),i("ngForOf",t.candidateModels)}}var b=class n{constructor(e){this.cardControllerService=e}parties=[];loading=!1;error="";ngOnInit(){this.loadParties()}loadParties(){this.loading=!0,this.error="",this.cardControllerService.getCandidateResultsPartyListCards().subscribe({next:e=>{this.parties=e,this.loading=!1},error:e=>{this.error="Errore nel caricamento dei dati: "+(e.error?.message||e.message),this.loading=!1}})}static \u0275fac=function(t){return new(t||n)(g(O))};static \u0275cmp=l({type:n,selectors:[["app-candidate-results"]],decls:3,vars:2,consts:[[1,"seats-container"],["class","no-data",4,"ngIf"],["class","party-container",4,"ngFor","ngForOf"],[1,"no-data"],[1,"party-container"],[1,"party-name"],[1,"cards-grid"],["class","person-card",3,"candidateCardModel",4,"ngFor","ngForOf"],[1,"person-card",3,"candidateCardModel"]],template:function(t,d){t&1&&(o(0,"div",0),s(1,z,3,0,"div",1)(2,N,5,2,"div",2),a()),t&2&&(r(),i("ngIf",d.parties.length===0),r(),i("ngForOf",d.parties))},dependencies:[C,P,f,_],styles:[".seats-container[_ngcontent-%COMP%]{padding:1.25rem;max-width:1400px;margin:0 auto}.seats-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.875rem}.seats-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-size:1.75rem}.seats-header[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{background-color:#34495e;color:#fff;border:none;border-radius:.25rem;padding:.625rem 1rem;font-size:.875rem;cursor:pointer;transition:background-color .2s ease-in-out}.seats-header[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:hover{background-color:#22303d}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2.5rem}.spinner[_ngcontent-%COMP%]{border:.25rem solid rgba(0,0,0,.1);border-left-color:#3498db;border-radius:50%;width:2.5rem;height:2.5rem;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1.25rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{background-color:#fbdedb;border-left:.25rem solid #e74c3c;color:#e74c3c;padding:1rem;border-radius:.25rem;margin-bottom:1.25rem}.no-data[_ngcontent-%COMP%]{text-align:center;padding:2.5rem;background:#f8f9fa;border-radius:.5rem;color:#7f8c8d}.party-container[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:.75rem;padding:1.25rem;margin-bottom:1.875rem}.party-name[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5rem;margin-top:0;margin-bottom:1.25rem;padding-bottom:.625rem;border-bottom:.125rem solid #e9ecef}.cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(14rem,1fr));gap:1.25rem}@media (max-width: 768px){.seats-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.625rem}.seats-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:1.375rem}.cards-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(10rem,1fr));gap:.9375rem}.party-name[_ngcontent-%COMP%]{font-size:1.25rem}}@media (max-width: 480px){.seats-container[_ngcontent-%COMP%]{padding:.625rem}.cards-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(8rem,1fr));gap:.625rem}.no-data[_ngcontent-%COMP%]{padding:1.5rem}.party-name[_ngcontent-%COMP%]{font-size:1.125rem}}"]})};export{b as CandidateResultsComponent};
