import{a as v}from"./chunk-HQ5M5R7E.js";import{Aa as l,Fa as m,Gb as h,Hb as f,Ib as C,Ja as s,Qa as a,Ta as r,Tb as M,Ua as i,Va as g,_a as _,db as c,eb as p,ua as u,wa as o}from"./chunk-FTSSXSA7.js";function I(t,e){if(t&1&&g(0,"img",8),t&2){let n=_();a("src",n.imageUrl,u)("alt",n.candidateCardModel.lastName+" "+n.candidateCardModel.firstName)}}function S(t,e){t&1&&(r(0,"div",9),c(1,"Loading..."),i())}var x=class t{constructor(e){this.imageService=e}imageUrl;imagesLoaded=!1;ngOnInit(){this.imageService.isLoaded().subscribe(e=>{this.imagesLoaded=e,e&&this.candidateCardModel.id&&(this.imageUrl=this.imageService.getImage(this.candidateCardModel.id))})}candidateCardModel;static \u0275fac=function(n){return new(n||t)(l(v))};static \u0275cmp=m({type:t,selectors:[["app-person-card-no-counter"]],inputs:{candidateCardModel:"candidateCardModel"},decls:10,vars:4,consts:[[1,"person-card"],[1,"image-container"],[3,"src","alt",4,"ngIf"],["class","loading-placeholder",4,"ngIf"],[1,"content-container"],[1,"info"],[1,"last-name"],[1,"first-name"],[3,"src","alt"],[1,"loading-placeholder"]],template:function(n,d){n&1&&(r(0,"div",0)(1,"div",1),s(2,I,1,2,"img",2)(3,S,2,0,"div",3),i(),r(4,"div",4)(5,"div",5)(6,"h3",6),c(7),i(),r(8,"p",7),c(9),i()()()()),n&2&&(o(2),a("ngIf",d.imagesLoaded),o(),a("ngIf",!d.imagesLoaded),o(4),p(d.candidateCardModel.lastName),o(2),p(d.candidateCardModel.firstName))},dependencies:[C,f],styles:[".person-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 6px #0000001a;overflow:hidden;display:flex;flex-direction:column;height:100%;transition:transform .2s,box-shadow .2s}.person-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 10px #00000026}.image-container[_ngcontent-%COMP%]{width:100%;height:160px;overflow:hidden}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.content-container[_ngcontent-%COMP%]{padding:15px;display:flex}.counter[_ngcontent-%COMP%]{flex:0 0 60px;font-size:24px;font-weight:700;color:#3498db;display:flex;justify-content:center;align-items:center;border-right:1px solid #ecf0f1;margin-right:15px;padding-right:15px}.info[_ngcontent-%COMP%]{flex:1}.last-name[_ngcontent-%COMP%]{margin:0 0 5px;font-size:18px;font-weight:700;color:#2c3e50}.first-name[_ngcontent-%COMP%]{font-size:16px;margin:0 0 10px;color:#7f8c8d}.actions[_ngcontent-%COMP%]{display:flex;gap:10px}.btn-counter[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:none;font-size:18px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .2s}.increment[_ngcontent-%COMP%]{background-color:#2ecc71;color:#fff}.increment[_ngcontent-%COMP%]:hover{background-color:#27ae60}.decrement[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff}.decrement[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]})};function w(t,e){t&1&&(r(0,"div",3)(1,"p"),c(2,"Nessun dato disponibile"),i()())}function N(t,e){if(t&1&&g(0,"app-person-card-no-counter",8),t&2){let n=e.$implicit;a("candidateCardModel",n)}}function k(t,e){if(t&1&&(r(0,"div",4)(1,"h2",5),c(2),i(),r(3,"div",6),s(4,N,1,1,"app-person-card-no-counter",7),i()()),t&2){let n=e.$implicit;o(2),p(n.name),o(2),a("ngForOf",n.candidateModels)}}var b=class t{constructor(e){this.cardControllerService=e}parties=[];loading=!1;error="";ngOnInit(){this.loadParties()}loadParties(){this.loading=!0,this.error="",this.cardControllerService.getCandidateResultsPartyListCards().subscribe({next:e=>{this.parties=e,this.loading=!1},error:e=>{this.error="Errore nel caricamento dei dati: "+(e.error?.message||e.message),this.loading=!1}})}static \u0275fac=function(n){return new(n||t)(l(M))};static \u0275cmp=m({type:t,selectors:[["app-candidate-results"]],decls:3,vars:2,consts:[[1,"seats-container"],["class","no-data",4,"ngIf"],["class","party-container",4,"ngFor","ngForOf"],[1,"no-data"],[1,"party-container"],[1,"party-name"],[1,"cards-grid"],[3,"candidateCardModel",4,"ngFor","ngForOf"],[3,"candidateCardModel"]],template:function(n,d){n&1&&(r(0,"div",0),s(1,w,3,0,"div",1)(2,k,5,2,"div",2),i()),n&2&&(o(),a("ngIf",d.parties.length===0),o(),a("ngForOf",d.parties))},dependencies:[C,h,f,x],styles:[".seats-container[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto}.seats-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}h1[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.btn-logout[_ngcontent-%COMP%]{background-color:#34495e;color:#fff;border:none;border-radius:4px;padding:10px 16px;font-size:14px;cursor:pointer;transition:background-color .2s}.btn-logout[_ngcontent-%COMP%]:hover{background-color:#2c3e50}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left:4px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{background-color:#fdecea;border-left:4px solid #e74c3c;color:#e74c3c;padding:16px;border-radius:4px;margin-bottom:20px}.no-data[_ngcontent-%COMP%]{text-align:center;padding:40px;background:#f8f9fa;border-radius:8px;color:#7f8c8d}@media (max-width: 768px){.seats-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}}.party-container[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:12px;padding:20px;margin-bottom:30px}.party-name[_ngcontent-%COMP%]{color:#2c3e50;font-size:24px;margin-top:0;margin-bottom:20px;padding-bottom:10px;border-bottom:2px solid #e9ecef}.cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px}@media (max-width: 768px){.cards-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:15px}.party-name[_ngcontent-%COMP%]{font-size:20px}}"]})};export{b as CandidateResultsComponent};
